<!--
     Any copyright is dedicated to the Public Domain.
     http://creativecommons.org/licenses/publicdomain/
-->
<html xmlns="http://www.w3.org/1999/xhtml" class="reftest-wait">
  <head>

    <!-- From https://bugzilla.mozilla.org/show_bug.cgi?id=294086 -->

    <title>Test: change CSS 'height' property on inline SVG</title>

    <!--
    This testcase checks that when the value of the CSS 'height' property on
    inline SVG is changed, the SVG resizes as expected.
    -->

    <style type="text/css">

html, body {
  padding: 0;
  border: 0;
  margin: 0;
  width: 100%;
  height: 100%;
  background: red;
}

    </style>
    <script type="text/javascript">

function handle_load(e)
{
  document.addEventListener("MozReftestInvalidate", resize_svg, false);
  // in case we're not gecko
  setTimeout(resize_svg, 5000);
}

function resize_svg()
{
  document.getElementById('svg').style.height = '100%';
  document.addEventListener("MozReftestInvalidate", notify_test_finished, false);
  // in case we're not gecko
  setTimeout(notify_test_finished, 5000);
}

function notify_test_finished()
{
  document.documentElement.removeAttribute('class');
}

    </script>
  </head>
  <body onload="handle_load(event);">

    <svg id="svg" xmlns="http://www.w3.org/2000/svg"
         style="display:block; width:100%; height:0;" width="0" height="0">
      <rect width="100%" height="100%" fill="lime"/>
    </svg>

  </body>
</html>
