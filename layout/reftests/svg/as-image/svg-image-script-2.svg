<svg xmlns="http://www.w3.org/2000/svg"
     xmlns:xlink="http://www.w3.org/1999/xlink"
     width="100" height="100" class="reftest-wait" onload="startTest()">
  <rect width="100%" height="100%" fill="red"/>
  <rect id="r1" width="100%" height="100%" fill="yellow"/>
  <script type="application/javascript">
    function startTest() {
      document.addEventListener("MozReftestInvalidate", doTest, false);
      // in case we're not gecko
      setTimeout(doTest, 5000);
    }

    function doTest() {
      var x = document.getElementById("r1");
      x.setAttribute("fill", "url(script100x100.svg#p1)");
      document.documentElement.removeAttribute('class');
    }
  </script>
</svg>
