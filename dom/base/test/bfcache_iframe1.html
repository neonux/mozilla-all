<!DOCTYPE html>
<html>
<head>
  <script>

  var msg2Count = 0;
  function IdleHandler2() {
    msg2Count++;
    dump("msg 2 Count: " + msg2Count + "\n");
    if (msg2Count === 1) {
      window.parent.IFrame1_Callback();
    }
  }
  var idleObserver2 = {time: 2, onidle: IdleHandler2, onactive: IdleHandler2};

  function Test() {
    dump("Test1\n");
    window.navigator.addIdleObserver(idleObserver2);
  }

  </script>
</head>
<body onload="Test();">
  This is iframe 1.
</body>
</html>

