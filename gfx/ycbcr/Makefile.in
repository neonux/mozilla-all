DEPTH		= ../..
topsrcdir	= @top_srcdir@
srcdir		= @srcdir@
VPATH		= @srcdir@

include $(DEPTH)/config/autoconf.mk

MODULE       = ycbcr
LIBRARY_NAME = ycbcr
LIBXUL_LIBRARY = 1
EXPORT_LIBRARY = 1

DEFINES += -D_IMPL_NS_GFX

EXPORTS      = chromium_types.h \
               yuv_convert.h \
               yuv_row.h \
               $(NULL)

CPPSRCS = yuv_convert.cpp \
          yuv_row_c.cpp \
          $(NULL)

ifeq ($(MOZ_WIDGET_TOOLKIT),windows)
CPPSRCS += yuv_row_win.cpp \
           $(NULL)
else
ifeq ($(MOZ_WIDGET_TOOLKIT),gtk2)
CPPSRCS += yuv_row_linux.cpp \
           $(NULL)
else
ifeq ($(MOZ_WIDGET_TOOLKIT),cocoa)
CPPSRCS += yuv_row_mac.cpp \
           $(NULL)
else
CPPSRCS += yuv_row_other.cpp \
           $(NULL)
endif
endif
endif

EXTRA_DSO_LDOPTS += \
        $(LIBS_DIR) \
        $(EXTRA_DSO_LIBS) \
        $(XPCOM_LIBS) \
        $(NSPR_LIBS) \
        $(NULL)

include $(topsrcdir)/config/rules.mk
